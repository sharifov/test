var helpers=function(){var t=!1;function n(){setTimeout(function(){$(".alert-box").remove()},5e3)}function a(t,n){return $("<div>").attr({class:"alert-box",role:"alert"}).addClass("alert").addClass(void 0===n?"alert-info":n).text(t)}return{post:function(n,a){!1===t&&(t=!0,$.post(n,a,$.proxy(function(n){t=!1,this.showTooltip(n)},this),"json"))},showTooltip:function(t){if(0===$("#alert-tooltip").length){var n=$("<div>").attr({id:"alert-tooltip"}).addClass(0===t.length?"green":"red").append($("<span>").addClass("glyphicon").addClass(0===t.length?" glyphicon-ok":"glyphicon-remove"));$("body").append(n),setTimeout(function(){$("#alert-tooltip").remove()},500)}},showMessages:function(t,e){$(".alert-box").length?$(".alert-box").append(t):($(void 0===e?$("body").find(".container").eq(1):e).prepend(a(t)),n())},showErrorMessages:function(t,a){for(i in t){var e=0;if($messages=new Array,"object"==typeof t[i])for(j in t[i])$messages[e++]=t[i][j];else $messages[e++]=t[i];this.showErrorMessage($messages.join(" "),a+i)}n()},showErrorMessage:function(t,n){$(n).next().html(a(t,"alert-danger"))}}}(),translate=function(){var t;function n(t){var n=t.closest("tr").find(".translation"),a={id:n.data("id"),language_id:$("#language_id").val(),translation:$.trim(n.val())};helpers.post($("#language_id").data("url"),a)}return{init:function(){$("#translates").on("click",".source",function(){var t,a,e,o;t=$(this),a=t.closest("tr").find(".translation"),e=0===$.trim(a.val()).length,o=$.trim(t.val()),e&&(a.val(o),n(t))}),$("#translates").on("click","button",function(){n($(this))}),$("#translates").on("focus",".translation",function(){t=$.trim($(this).val())}),$("#translates").on("blur",".translation",function(){$.trim($(this).val())!==t&&n($(this).closest("tr").find("button"))}),$("#translates").on("change","#search-form select",function(){$(this).parents("form").submit()})}}}();$(document).ready(function(){translate.init()});