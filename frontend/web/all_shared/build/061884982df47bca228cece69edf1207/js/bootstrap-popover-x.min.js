/*!
 * @copyright &copy; Kartik Visweswaran, Krajee.com, 2014 - 2021
 * @version 1.4.9
 *
 * Bootstrap Popover Extended - Popover with modal behavior, styling enhancements and more.
 *
 * For more JQuery/Bootstrap plugins and demos visit http://plugins.krajee.com
 * For more Yii related demos visit http://demos.krajee.com
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","window","document"],t):"object"==typeof module&&"object"==typeof module.exports?t(require("jquery"),window,document):t(window.jQuery,window,document)}(function(t,o,e,r){"use strict";t.fn.popoverXBsVersion||(t.fn.popoverXBsVersion=o.Modal&&o.Modal.VERSION||o.bootstrap&&o.bootstrap.Modal&&bootstrap.Modal.VERSION||"3.x.x");var i,n,a;i={NAMESPACE:".popoverX",modalOptions:["keyboard","focus","show"],kvLog:function(t){t="bootstrap-popover-x: "+t,o.console&&o.console.log?o.console.log(t):o.alert(t)},addCss:function(t,o){t.removeClass(o).addClass(o)},handler:function(t,o,e){var r=o+i.NAMESPACE;return t.off(r).on(r,e)},raise:function(t,o,e){var n=o+(e===r?".target":e)+i.NAMESPACE;return t.trigger(n)},isBs:function(o){var e=t.trim((t.fn.popoverXBsVersion||"")+"");return o=parseInt(o,10),e?o===parseInt(e.charAt(0),10):4===o},getDataAttr:function(t){return"data-"+(i.isBs(5)?"bs-":"")+t}},n=function(o,e){var r=this;r.options=e,r.$element=t(o),r.init()},a=function(o,e){var r=this;r.options=e,r.$element=t(o),r.$dialog=r.$element,r.init()},n.prototype={constructor:n,init:function(){var o,e,r=this,n=r.$element,a=r.options||{},p=n.attr("href"),s=function(t){i.kvLog("PopoverX initialization skipped! "+t)};if(r.href=p,!n||!n.length)return void s("PopoverX triggering button element could not be found.");if(n.attr("data-toggle","popover-x"),a.target?(n.data("target",a.target),e=t(a.target)):e=t(n.data("target")||p&&p.replace(/.*(?=#[^\s]+$)/,"")),!e.length)return void s("PopoverX dialog element could not be found.");if(r.$dialog=e,e.attr(i.getDataAttr("backdrop"),"false"),i.addCss(e,"popover-x"),!e.data("popover-x")){var l=t.extend(!0,{remote:p&&!/#/.test(p)},e.data(),n.data(),a);l.$target=n,e.popoverX(l)}return o=a.trigger,"string"!=typeof o?void s("Invalid or improper configuration for PopoverX trigger."):(o=o.split(" "),void t.each(o,function(t,o){r.listen(o)}))},listen:function(t){var o,e,r=this,n=r.$element,a=r.$dialog,p=!1,s=r.href;"manual"!==t&&("click"!==t&&"keyup"!==t&&(p=!0),p?(o="hover"===t?"mouseenter":"focusin",e="hover"===t?"mouseleave":"focusout",i.handler(n,o,function(){i.raise(a,o).popoverX("show")}),i.handler(n,e,function(){i.raise(a,e).popoverX("hide")})):i.handler(n,t,function(o){return"keyup"===t?void(a&&27===o.which&&i.raise(a,t).popoverX("hide")):(s&&"click"===t&&o.preventDefault(),i.raise(a,t).popoverX("toggle"),void i.handler(a,"hide",function(){n.focus()}))}))},destroy:function(){var t=this;t.$element.off(i.NAMESPACE),t.$dialog.modal("dispose").off(i.NAMESPACE)}},a.prototype={constructor:a,init:function(){var r=this,n=r.$element,a=r.options,p=a.$container,s=i.isBs(5);p&&p.length&&(r.$body=p),r.$body&&r.$body.length||(r.$body=t(e.body)),t.each(i.modalOptions,function(t,o){a[o]&&n.attr(i.getDataAttr(o),a[o])}),n.attr(i.getDataAttr("backdrop"),"false"),s&&!n.find(".modal-dialog").length&&(t(e.createElement("div")).addClass("modal-dialog").css({margin:0,"pointer-events":"all"}).insertAfter(n).append(n.contents()).appendTo(n),i.addCss(n.find(".arrow"),"popover-arrow")),i.addCss(n,"is-bs"+t.fn.popoverXBsVersion.charAt(0)),r.bodyPadding=r.$body.css("padding"),r.$target=r.options.$target,r.$marker=t(e.createElement("div")).addClass("popover-x-marker").insertAfter(n).hide(),n.find(".popover-footer").length&&i.addCss(n,"has-footer"),r.options.remote&&n.find(".popover-content").on("load",r.options.remote,function(){n.trigger("load.complete.popoverX")}),n.on("click.dismiss"+i.NAMESPACE,'[data-dismiss="popover-x"]',t.proxy(r.hide,r)),a.closePopoverOnBlur&&t(e).on("click",function(o){var e=t(o.target);e.closest('[data-toggle="popover-x"]').length||(e.closest(".popover-x").length?o.stopPropagation():t(".popover-x:visible").popoverX("hide"))});var l,f="hide.bs.modal.popoverX",d=t(".modal");d.length&&(l=d.find("[data-toggle='popover-x']"),l.length&&d.off(f).on(f,function(){l.each(function(){var o=t(this).data("target")||null,e=t(o);e.length&&e.is(":visible")&&e.popoverX("hide")})})),t(o).resize(function(){n.hasClass("kv-popover-active")&&(r.hide(),setTimeout(function(){r.show(!0)},50))})},getPlacement:function(){var t=this,r=t.getPosition(),i=t.options.placement,n=e.documentElement,a=e.body,p=n.clientWidth,s=n.clientHeight,l=Math.max(a.scrollTop||0,n.scrollTop),f="horizontal"===i,d=Math.max(a.scrollLeft||0,n.scrollLeft),h="vertical"===i,c=Math.max(0,r.left-d),g=Math.max(0,r.top-l),v="auto"===i||f||h,u=o.innerWidth||n||e.body.clientWidth;if(t.options.autoPlaceSmallScreen&&u<t.options.smallScreenWidth&&(v=!0),v)return p/3>c?s/3>g?f?"right right-top":"bottom bottom-left":2*s/3>g?h?s/2>=g?"bottom bottom-left":"top top-left":"right":f?"right right-bottom":"top top-left":2*p/3>c?s/3>g?f?p/2>=c?"right right-top":"left left-top":"bottom":2*s/3>g?f?p/2>=c?"right":"left":s/2>=g?"bottom":"top":f?p/2>=c?"right right-bottom":"left left-bottom":"top":s/3>g?f?"left left-top":"bottom bottom-left":2*s/3>g?h?s/2>=g?"bottom-right":"top-right":"left":f?"left left-bottom":"top top-left";switch(i){case"auto-top":return p/3>c?"top top-left":2*p/3>c?"top":"top top-right";case"auto-bottom":return p/3>c?"bottom bottom-left":2*p/3>c?"bottom":"bottom bottom-right";case"auto-left":return s/3>g?"left left-top":2*s/3>g?"left":"left left-bottom";case"auto-right":return s/3>g?"right right-top":2*s/3>g?"right":"right right-bottom";default:return i}},getPosition:function(){var o=this,r=o.$target,i=r[0].getBoundingClientRect(),n=o.$body,a=n.css("position");if(n.is(e.body)||"static"===a)return t.extend({},r.offset(),{width:r[0].offsetWidth||i.width,height:r[0].offsetHeight||i.height});if("relative"===a)return{top:r.offset().top-n.offset().top,left:r.offset().left-n.offset().left,width:r[0].offsetWidth||i.width,height:r[0].offsetHeight||i.height};var p=n[0].getBoundingClientRect();return{top:i.top-p.top+n.scrollTop(),left:i.left-p.left+n.scrollLeft(),width:i.width,height:i.height}},refreshPosition:function(){var t,o=this,e=o.$element,r=o.getPosition(),n=e[0].offsetWidth,a=e[0].offsetHeight,p=o.getPlacement();switch(p){case"bottom":t={top:r.top+r.height,left:r.left+r.width/2-n/2};break;case"bottom bottom-left":t={top:r.top+r.height,left:r.left};break;case"bottom bottom-right":t={top:r.top+r.height,left:r.left+r.width-n};break;case"top":t={top:r.top-a,left:r.left+r.width/2-n/2};break;case"top top-left":t={top:r.top-a,left:r.left};break;case"top top-right":t={top:r.top-a,left:r.left+r.width-n};break;case"left":t={top:r.top+r.height/2-a/2,left:r.left-n};break;case"left left-top":t={top:r.top,left:r.left-n};break;case"left left-bottom":t={top:r.top+r.height-a,left:r.left-n};break;case"right":t={top:r.top+r.height/2-a/2,left:r.left+r.width};break;case"right right-top":t={top:r.top,left:r.left+r.width};break;case"right right-bottom":t={top:r.top+r.height-a,left:r.left+r.width};break;default:i.kvLog("Invalid popover placement '"+p+"'.")}e.removeClass("bottom top left right bottom-left top-left bottom-right top-right left-bottom left-top right-bottom right-top").css(t).addClass(p+" in")},validateOpenPopovers:function(){var o=this,e=o.$element;o.options.closeOpenPopovers&&o.$body.find(".popover:visible").each(function(){var o=t(this);o.is(e)||o.popoverX("hide")})},hide:function(){var t=this,o=t.$element;t.$body.removeClass("popover-x-body"),o.removeClass("kv-popover-active"),o.modal("hide"),o.insertBefore(t.$marker)},show:function(t){var o=this,e=o.$element;e.addClass("kv-popover-active"),e.css(o.options.dialogCss).appendTo(o.$body),t||o.validateOpenPopovers(),i.addCss(o.$body,"popover-x-body"),e.modal("show"),o.$body.css({padding:o.bodyPadding}),e.css({padding:0}),o.refreshPosition()},toggle:function(){var t=this;t.$element.is(":visible")?t.hide():t.show()},destroy:function(){var t=this;t.$element.modal("dispose").off(i.NAMESPACE)}},t.fn.popoverButton=function(o){var e=this;return e.each(function(){var e=t(this),r=e.data("popover-button"),i=t.extend({},t.fn.popoverButton.defaults,e.data(),"object"==typeof o&&o);r||e.data("popover-button",r=new n(this,i)),"string"==typeof o&&r[o]()})},t.fn.popoverX=function(o){var e=this;return e.each(function(){var e=t(this),r=e.data("popover-x"),i=t.extend({},t.fn.popoverX.defaults,e.data(),"object"==typeof o&&o);i.$target||(r&&r.$target?i.$target=r.$target:i.$target=o.$target||t(o.target)),r||e.data("popover-x",r=new a(this,i)),"string"==typeof o?r[o]():i.show&&r.show(!0)})},t.fn.popoverButton.defaults={trigger:"click keyup"},t.fn.popoverX.defaults=t.extend(!0,{},{placement:"auto",dialogCss:{top:0,left:0,display:"block","z-index":1065},autoPlaceSmallScreen:!0,smallScreenWidth:640,closeOpenPopovers:!0,closePopoverOnBlur:!0,keyboard:!0,focus:!0}),t.fn.popoverButton.Constructor=n,t.fn.popoverX.Constructor=a,t(e).ready(function(){var o=t("[data-toggle='popover-x']");o.length&&o.popoverButton()})});