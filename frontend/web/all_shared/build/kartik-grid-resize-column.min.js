var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__slice=[].slice;!function(t,e){var n,i,r,s;i=function(t){return parseFloat(t.style.width.replace("%",""))},s=function(t,e){return e=(e=e.toFixed(2))>0?e:0,t.style.width=e+"%"},r=function(t){return 0===t.type.indexOf("touch")?(t.originalEvent.touches[0]||t.originalEvent.changedTouches[0]).pageX:t.pageX},n=function(){function n(n,i){var r;this.pointerdown=__bind(this.pointerdown,this),this.constrainWidth=__bind(this.constrainWidth,this),this.options=t.extend({},this.defaults,i),this.$table=n,this.setHeaders(),this.restoreColumnWidths(),this.syncHandleWidths(),t(e).on("resize.rc",(r=this,function(){return r.syncHandleWidths()})),this.options.start&&this.$table.bind("column:resize:start.rc",this.options.start),this.options.resize&&this.$table.bind("column:resize.rc",this.options.resize),this.options.stop&&this.$table.bind("column:resize:stop.rc",this.options.stop)}return n.prototype.defaults={selector:"tr th:visible",store:e.store,syncHandlers:!0,resizeFromBody:!0,maxWidth:null,minWidth:null},n.prototype.triggerEvent=function(e,n,i){var r;return(r=t.Event(e)).originalEvent=t.extend({},i),this.$table.trigger(r,[this].concat(n||[]))},n.prototype.getColumnId=function(t){return this.$table.data("resizable-columns-id")+"-"+t.data("resizable-column-id")},n.prototype.setHeaders=function(){return this.$tableHeaders=this.$table.find(this.options.selector),this.assignPercentageWidths(),this.createHandles()},n.prototype.destroy=function(){return this.$handleContainer.remove(),this.$table.removeData("resizableColumns"),this.$table.add(e).off(".rc")},n.prototype.assignPercentageWidths=function(){return this.$tableHeaders.each((e=this,function(n,i){var r;return r=t(i),s(r[0],r.outerWidth()/e.$table.width()*100)}));var e},n.prototype.createHandles=function(){var e,n;return null!=(e=this.$handleContainer)&&e.remove(),this.$table.before(this.$handleContainer=t("<div class='rc-handle-container' />")),this.$tableHeaders.each((n=this,function(e,i){var r;if(0!==n.$tableHeaders.eq(e+1).length&&null==n.$tableHeaders.eq(e).attr("data-noresize")&&null==n.$tableHeaders.eq(e+1).attr("data-noresize"))return(r=t("<div class='rc-handle' />")).data("th",t(i)),r.appendTo(n.$handleContainer)})),this.$handleContainer.on("mousedown touchstart",".rc-handle",this.pointerdown)},n.prototype.syncHandleWidths=function(){return this.$handleContainer.width(this.$table.width()).find(".rc-handle").each((e=this,function(n,i){var r;return(r=t(i)).css({left:r.data("th").outerWidth()+(r.data("th").offset().left-e.$handleContainer.offset().left),height:e.options.resizeFromBody?e.$table.height():e.$table.find("thead").height()})}));var e},n.prototype.saveColumnWidths=function(){return this.$tableHeaders.each((e=this,function(n,r){var s;if(null==(s=t(r)).attr("data-noresize")&&null!=e.options.store)return e.options.store.set(e.getColumnId(s),i(s[0]))}));var e},n.prototype.restoreColumnWidths=function(){return this.$tableHeaders.each((e=this,function(n,i){var r,o;if(r=t(i),null!=e.options.store&&(o=e.options.store.get(e.getColumnId(r))))return s(r[0],o)}));var e},n.prototype.totalColumnWidths=function(){var e;return e=0,this.$tableHeaders.each(function(n,i){return e+=parseFloat(t(i)[0].style.width.replace("%",""))}),e},n.prototype.constrainWidth=function(t){return null!=this.options.minWidth&&(t=Math.max(this.options.minWidth,t)),null!=this.options.maxWidth&&(t=Math.min(this.options.maxWidth,t)),t},n.prototype.pointerdown=function(e){var n,o,a,h,l,d,u,c;return e.preventDefault(),a=t(e.currentTarget.ownerDocument),d=r(e),n=t(e.currentTarget),o=n.data("th"),h=this.$tableHeaders.eq(this.$tableHeaders.index(o)+1),u={left:i(o[0]),right:i(h[0])},l={left:u.left,right:u.right},this.$handleContainer.add(this.$table).addClass("rc-table-resizing"),o.add(h).add(n).addClass("rc-column-resizing"),this.triggerEvent("column:resize:start",[o,h,l.left,l.right],e),a.on("mousemove.rc touchmove.rc",(c=this,function(t){var e;return e=(r(t)-d)/c.$table.width()*100,s(o[0],l.left=c.constrainWidth(u.left+e)),s(h[0],l.right=c.constrainWidth(u.right-e)),null!=c.options.syncHandlers&&c.syncHandleWidths(),c.triggerEvent("column:resize",[o,h,l.left,l.right],t)})),a.one("mouseup touchend",function(t){return function(){return a.off("mousemove.rc touchmove.rc"),t.$handleContainer.add(t.$table).removeClass("rc-table-resizing"),o.add(h).add(n).removeClass("rc-column-resizing"),t.syncHandleWidths(),t.saveColumnWidths(),t.triggerEvent("column:resize:stop",[o,h,l.left,l.right],e)}}(this))},n}(),t.fn.extend({resizableColumns:function(){var e,i;return i=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],this.each(function(){var r,s;if((s=(r=t(this)).data("resizableColumns"))||r.data("resizableColumns",s=new n(r,i)),"string"==typeof i)return s[i].apply(s,e)})}})}(window.jQuery,window);